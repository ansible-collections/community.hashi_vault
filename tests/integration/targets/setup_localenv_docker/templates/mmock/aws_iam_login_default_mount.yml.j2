#jinja2:variable_start_string:'[%', variable_end_string:'%]'
---
request:
  method: POST|PUT
  path: "/v1/auth/aws/login"
control:
  priority: 10
response:
  statusCode: 200
  headers:
    Content-Type:
      - application/json
  body: >-
    {
        "request_id": "{{fake.UUID}}",
        "lease_id": "",
        "lease_duration": 0,
        "renewable": false,
        "data": null,
        "warnings": null,
        "auth": {
            "client_token": "s.{{fake.CharactersN(24)}}",
            "accessor": "{{fake.CharactersN(24)}}",
            "policies": [
                "default",
                "aws-sample-policy"
            ],
            "token_policies": [
                "default",
                "aws-sample-policy"
            ],
            "identity_policies": null,
            "metadata": {
                "account_id": "{{fake.digitsN(12)}}",
                "auth_type": "iam",
                "role_id": "{{fake.UUID}}"
            },
            "orphan": true,
            "entity_id": "{{fake.UUID}}",
            "lease_duration": 1800,
            "renewable": true
        }
    }
